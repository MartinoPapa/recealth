<!DOCTYPE html>

<head>
    <title>Recealth</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="toggle.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>

<body>
    <div class="topnav">

    </div>
    <div class="page">
        <div class="row">
            <div class="column-2" id="titolo">
                <h1><span class="material-symbols-outlined">
                        work
                    </span> Recealth</h1>
                <h3>Display your talent, hire our talents</h3>
                <p> This is Recealth, a therapist recruitment agency specilist. We understand how stressful the whole
                    recruitment process is so our team has made it easier for both candidates and businesses.</p>
            </div>


            <div class="column-2">
                <form name="contact" method="POST" data-netlify="true">
                    <h3>Get more information</h3>
                    <div class="row">
                        <div class="column-2">
                            <fieldset>
                                <p>First name</p>
                                <input type="txt" required>
                            </fieldset>
                        </div>
                        <div class="column-2">
                            <fieldset>
                                <p>Last name</p>
                                <input type="txt" required>
                            </fieldset>
                        </div>
                    </div>
                    <div class="row">
                        <div class="column-2">
                            <fieldset>
                                <p>Email address</p>
                                <input type="email" name="email" required>
                            </fieldset>
                        </div>
                        <div class="column-2">
                            <fieldset>
                                <p>Phone</p>
                                <input name="phone" type="tel" pattern="[0-9]{10}" required>
                            </fieldset>
                        </div>
                    </div>
                    <div class="row">
                        <p id="ptoggle">What's your purpose?</p>
                        <div id="container">
                            <div class="inner-container">
                                <div class="toggle">                                    
                                    <p>Hire</p>
                                </div>
                                <div class="toggle">
                                    <p>Candidate</p>
                                </div>
                            </div>
                            <div class="inner-container" id='toggle-container'>
                                <div class="toggle">
                                    <p>Hire</p>
                                </div>
                                <div class="toggle">
                                    <p>Candidate</p>
                                </div>
                            </div>
                        </div>
                    </div>


                    <fieldset>
                        <button name="submit" type="submit" id="contact-submit" data-submit="...Sending">Invia</button>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</body>

<script type="text/javascript">
    const handleSubmit = (event) => {
        event.preventDefault();

        const myForm = event.target;
        const formData = new FormData(myForm);
        var button = document.getElementById("contact-submit");
        button.disabled = true;
        button.innerHTML = `Sending...`;

        fetch("/", {
            method: "POST",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: new URLSearchParams(formData).toString(),
        })
            .then(() => {
                console.log("Form successfully submitted")
                button.innerHTML = `Message sent`;
            })
            .catch((error) => {
                alert("error");
                button.innerHTML = `Invia`;
            });
        button.disabled = false;
    };

    document
        .querySelector("form")
        .addEventListener("submit", handleSubmit);

</script>

<script>
    var toggle = document.getElementById('container');
    var toggleContainer = document.getElementById('toggle-container');
    var toggleNumber;

    toggle.addEventListener('click', function () {
        toggleNumber = !toggleNumber;
        if (toggleNumber) {
            toggleContainer.style.clipPath = 'inset(0 0 0 50%)';
            toggleContainer.style.backgroundColor = '#D2DE32';
        } else {
            toggleContainer.style.clipPath = 'inset(0 50% 0 0)';
            toggleContainer.style.backgroundColor = '#61A3BA';
        }
        console.log(toggleNumber)
    });
</script>